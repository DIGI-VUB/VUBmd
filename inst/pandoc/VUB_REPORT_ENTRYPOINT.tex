\documentclass{article}
\usepackage{vub}
\usepackage{vubcolors}
%\usepackage{vubgeneric}
\usepackage{hyperref}
\usepackage{framed}
\usepackage{color}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{fancyvrb}
\usepackage{setspace}
\usepackage{relsize}
\usepackage{float}
\usepackage{longtable}
\usepackage{lscape}
\usepackage{xcolor}
\usepackage{soul}
\definecolor{peach-orange}{rgb}{1.0, 0.8, 0.6}
\DeclareRobustCommand{\hlred}[1]{{\sethlcolor{red}\hl{#1}}}
\DeclareRobustCommand{\hlorange}[1]{{\sethlcolor{orange}\hl{#1}}}
\DeclareRobustCommand{\hlgreen}[1]{{\sethlcolor{green}\hl{#1}}}
\DeclareRobustCommand{\hlcyan}[1]{{\sethlcolor{cyan}\hl{#1}}}
\DeclareRobustCommand{\hlpeachorange}[1]{{\sethlcolor{peach-orange}\hl{#1}}}
\DeclareRobustCommand{\hllightgray}[1]{{\sethlcolor{lightgray}\hl{#1}}}
\DeclareRobustCommand{\hlc}[2][yellow]{ {\sethlcolor{#1} \hl{#2}} }

\def\codesize#1{\def\@codesize{#1}}
\codesize{\normalsize}

% required for the Euro symbol
\RequirePackage[gen]{eurosym}
% allows more complex formula's and \eqref
\RequirePackage{amsmath}
% allow natbib style references
\RequirePackage[round, colon, authoryear, sort&compress]{natbib}
% needed for markdown
\RequirePackage{booktabs}
\RequirePackage{upquote}
\RequirePackage{longtable}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\RequirePackage{color}
\RequirePackage{fancyvrb}
\RequirePackage{framed}
\RequirePackage{setspace}
\RequirePackage{relsize}
\RequirePackage{xcolor}
\RequirePackage{soul}

\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\},fontsize=\@codesize}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor{highlight.colour}{\textbf{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor{highlight.colour}{{#1}}}
\newcommand{\FunctionTok}[1]{\textcolor{example.colour}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor{number.colour}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor{number.colour}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor{number.colour}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor{number.colour}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor{number.colour}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor{warning.colour}{{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor{warning.colour}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor{comment.colour}{\textit{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor{warning.colour}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\AlertTok}[1]{\textcolor{alert.colour}{\textbf{{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor{alert.colour}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}

\newcommand{\ConstantTok}[1]{#1}
\newcommand{\VerbatimStringTok}[1]{#1}
\newcommand{\SpecialStringTok}[1]{#1}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{#1}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\VariableTok}[1]{#1}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{#1}}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{{#1}}}

$if(codesize)$
\codesize{\$codesize$}
$endif$

$if(floatbarriersection)$
\makeatletter
\AtBeginDocument{%
   \expandafter\renewcommand\expandafter\section\expandafter
     {\expandafter\@fb@secFB\section}%
   \newcommand\@fb@secFB{\FloatBarrier
   \gdef\@fb@afterHHook{\@fb@topbarrier \gdef\@fb@afterHHook{}}}
   \g@addto@macro\@afterheading{\@fb@afterHHook}
   \gdef\@fb@afterHHook{}
}
\makeatother
$endif$

$if(floatbarriersubsection)$
\makeatletter
\AtBeginDocument{%
   \expandafter\renewcommand\expandafter\subsection\expandafter
     {\expandafter\@fb@subsecFB\subsection}%
   \newcommand\@fb@subsecFB{\FloatBarrier
   \gdef\@fb@afterHHook{\@fb@topbarrier \gdef\@fb@afterHHook{}}}
   \g@addto@macro\@afterheading{\@fb@afterHHook}
   \gdef\@fb@afterHHook{}
}
\makeatother
$endif$

$if(floatbarriersubsubsection)$
\makeatletter
\AtBeginDocument{%
   \expandafter\renewcommand\expandafter\subsubsection\expandafter
     {\expandafter\@fb@subsubsecFB\subsubsection}%
   \newcommand\@fb@subsubsecFB{\FloatBarrier
   \gdef\@fb@afterHHook{\@fb@topbarrier \gdef\@fb@afterHHook{}}}
   \g@addto@macro\@afterheading{\@fb@afterHHook}
   \gdef\@fb@afterHHook{}
}
\makeatother
$endif$

\title{$title$}
$if(subtitle)$\subtitle{$subtitle$}$endif$
\author{$for(author)$$if(author.name)$$author.name$$else$$author$$endif$$sep$, $endfor$}
\faculty{$faculty$}
$if(reportnr)$\reportnumber{$reportnr$}$endif$

$if(hyphentation)$\hyphenation{$hyphentation$}$endif$

$for(header-includes)$
$header-includes$
$endfor$

% Alter some LaTeX defaults for better treatment of figures:
% See p.105 of "TeX Unbound" for suggested values.
% See pp. 199-200 of Lamport's "LaTeX" book for details.
%   General parameters, for ALL pages:
\renewcommand{\topfraction}{0.9}	% max fraction of floats at top
\renewcommand{\bottomfraction}{0.8}	% max fraction of floats at bottom
%   Parameters for TEXT pages (not float pages):
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}     % 2 may work better
\setcounter{dbltopnumber}{2}    % for 2-column pages
\renewcommand{\dbltopfraction}{0.9}	% fit big float above 2-col. text
\renewcommand{\textfraction}{0.07}	% allow minimal text w. figs
%   Parameters for FLOAT pages (not text pages):
\renewcommand{\floatpagefraction}{0.7}	% require fuller float pages
% N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dblfloatpagefraction}{0.7}	% require fuller float pages

\begin{document}
$if(cover)$
\includepdf[pages=1-2]{$cover$}
$endif$
\maketitle
\pagenumbering{arabic}

$for(include-before)$
$include-before$

$endfor$

%starttoc

% \clearpage
%
% \phantomsection
% $if(tocdepth)$
% \setcounter{tocdepth}{$tocdepth$}
% $else$
% \setcounter{tocdepth}{3}
% $endif$
% $if(toc)$
% \setcounter{tocdepth}{2}
% \tableofcontents
% $endif$
%\addcontentsline{toc}{chapter}{\contentsname}
%
% $if(toc)$
% \phantomsection
% \tableofcontents
% \addcontentsline{toc}{chapter}{\contentsname}
% $endif$

$if(lof)$
\clearpage
$else$
  $if(lot)$
\clearpage
  $endif$
$endif$

$if(lof)$
\phantomsection
\listoffigures
\addcontentsline{toc}{chapter}{\listfigurename}
\vspace{34pt}
$endif$

$if(lot)$
\phantomsection
\listoftables
\addcontentsline{toc}{chapter}{\listtablename}
$endif$

\clearpage

%endtoc

$body$

$if(natbib)$
%startbib
\cleardoublepage
\bibliography{$bibliography$}
\addcontentsline{toc}{chapter}{\bibname}
%endbib
$endif$

$for(include-after)$
$include-after$

$endfor$
\end{document}
